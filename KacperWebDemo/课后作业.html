<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript事件处理练习</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        .container {
            border: 1px solid #ccc;
            padding: 20px;
            border-radius: 5px;
            background-color: #f9f9f9;
        }
        .draw-area {
            width: 100%;
            height: 200px;
            border: 2px solid #333;
            margin: 20px 0;
            background-color: #fff;
            cursor: crosshair;
        }
        .controls {
            margin: 15px 0;
        }
        button {
            padding: 8px 15px;
            margin: 0 5px;
            cursor: pointer;
        }
        .status {
            margin: 15px 0;
            padding: 10px;
            background-color: #e9e9e9;
            border-radius: 4px;
        }
        .instructions {
            background-color: #fff8e1;
            padding: 15px;
            border-radius: 4px;
            border-left: 4px solid #ffc107;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>JavaScript event</h1>
        
        <div class="draw-area" id="drawArea"></div>
        
        <div class="controls">
            <button id="clearBtn">Clear (C)</button>
            <button id="colorBtn">Change color (R/G/B)</button>
        </div>
        
        <div class="status">
            <p>current color: <span id="currentColor">none</span></p>
            <p>current position: <span id="mouseCoords">X: 0, Y: 0</span></p>
            <p>last key: <span id="lastKey">none</span></p>
        </div>
        
    </div>

    <script>
        var arr = [];
        arr['r'] = "#ffe0e0";
        arr['g'] = "#e0ffe0";
        arr['b'] = "#e0e0ff";

        arr['R'] = "#ffe0e0";
        arr['G'] = "#e0ffe0";
        arr['B'] = "#e0e0ff";
        var colors = [];
        colors['r'] = "red";
        colors['g'] = "green";
        colors['b'] = "blue";

        colors['R'] = "red";
        colors['G'] = "green";
        colors['B'] = "blue";
        // 获取DOM元素
        const drawArea = document.getElementById("drawArea");
        const clearBtn = document.getElementById("clearBtn");
        const colorBtn = document.getElementById("colorBtn");
        const sizeBtn = document.getElementById("sizeBtn");
        const currentColorSpan = document.getElementById("currentColor");
        const currentSizeSpan = document.getElementById("currentSize");
        const mouseCoordsSpan = document.getElementById("mouseCoords");
        const lastKeySpan = document.getElementById("lastKey");
        
        // 状态变量
        let currentColor = "none";
        let currentSize = "medium";
        let clickCount = 0;
        
        // 鼠标移动事件 - 显示坐标
        drawArea.onmousemove = function(event) {
            mouseCoordsSpan.textContent = `X: ${event.offsetX}, Y: ${event.offsetY}`;
        };
        
        
        // 清空按钮点击事件
        clearBtn.onclick = function() {
            drawArea.style.backgroundColor = "#ffffff";
            clickCount = 0;
            lastKeySpan.textContent = "C (Clear)";
            currentColor ="none";
            currentColorSpan.textContent = currentColor;
        };
        
        // 颜色按钮点击事件
        colorBtn.onclick = function() {
            // 循环切换颜色状态
            if (currentColor === "red") {
                currentColor = "green";
            } else if (currentColor === "green") {
                currentColor = "blue";
            } else {
                currentColor = "red";
            }
            clickCount++;
            
            // 根据点击次数循环改变背景色
            if (clickCount % 3 === 1) {
                drawArea.style.backgroundColor = "#ffe0e0";
            } else if (clickCount % 3 === 2) {
                drawArea.style.backgroundColor = "#e0ffe0";
            } else {
                drawArea.style.backgroundColor = "#e0e0ff";
            }
            currentColorSpan.textContent = currentColor;
            lastKeySpan.textContent = "change color";
        };
        
       
        
        // 键盘事件处理
        document.onkeydown = function(event) {
            // 根据按下的键执行不同操作
            switch(event.key) {
                case "c":
                case "C":
                    // 清空绘制区域
                    clearBtn.click();
                    break;
                    
                case "r":
                case "R":
                case "g":
                case "G":
                case "b":
                case "B":
                    currentColor = colors[event.key]
                    // 切换为蓝色
                    currentColorSpan.textContent = currentColor;
                    lastKeySpan.textContent = event.key.toUpperCase();
                    console.log(arr[event.key]);
                    
                    drawArea.style.backgroundColor = arr[event.key]
                    break;
                    
                default:
                    lastKeySpan.textContent = event.key;
            }
        };
    </script>
</body>
</html>